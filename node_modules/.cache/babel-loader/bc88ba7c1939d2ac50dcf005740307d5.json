{"ast":null,"code":"var _jsxFileName = \"/Users/DuyNguyen/workspace/ProjectFoodSell-client/src/component/User-View/ProductShow.js\";\nimport React from 'react';\nimport SearchTool from '../ReUseAble/SearchTool';\nimport NextPrev from '../ReUseAble/NextPrev';\nimport './view.css';\nimport { connect } from \"react-redux\";\n\nconst addtocart = cartitem => {\n  return {\n    type: \"add\",\n    cartitem\n  };\n};\n\nclass ProductShow extends React.Component {\n  constructor() {\n    super();\n    this.i = 0;\n\n    this.next = () => {\n      this.i = this.i + 9;\n      fetch('/product/?search=' + this.state.searchobj + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n        rows: rows\n      }));\n    };\n\n    this.prev = () => {\n      if (this.i > 0) {\n        this.i = this.i - 9;\n        fetch('/product/?search=' + this.state.searchobj + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }));\n      }\n    };\n\n    this.setSearchText = text => {\n      this.setState({\n        searchobj: text\n      });\n\n      if (text === '') {\n        fetch('/product/?search=' + text + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }));\n      } else {\n        fetch('/product/?search=' + text + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }));\n      }\n    };\n\n    this.sort = (sortitem, sortdes) => {\n      this.i = 0;\n      this.setState({\n        sortitem: sortitem,\n        sortdes: sortdes\n      });\n      fetch('/product/?search=' + this.state.searchobj + '&orderby=' + sortitem + '&sort=' + sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n        rows: rows\n      }));\n    };\n\n    this.state = {\n      rows: [],\n      sortitem: 'productid',\n      sortdes: 'ASC',\n      searchobj: '',\n      limititem: null\n    };\n    this.inputsearch = React.createRef();\n  }\n\n  componentDidMount() {\n    fetch('/product/?orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n      rows: rows\n    }));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"viewproduct\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(SearchTool, {\n      sortby: \"Price\",\n      sortid: \"price\",\n      sortname: \"productname\",\n      sort: this.sort,\n      onSet: this.setSearchText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cardProduct\",\n      style: {\n        left: \"0px\",\n        position: \"relative\",\n        width: \"89%\",\n        top: \"40px\",\n        borderBottom: \"1px solid darkorange\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row card-group\",\n      style: {\n        minWidth: '60px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, this.state.rows.map(row => React.createElement(\"div\", {\n      id: \"card\",\n      className: \"text-center col-xs-12 col-sm-6 col-md-4 col-lg-4\",\n      style: {\n        maxWidth: \"290px\",\n        color: 'darkorange'\n      },\n      key: row.productid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: row.image,\n      height: \"170px\",\n      className: \"card-img-top\",\n      alt: row.productname,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"card-body\",\n      style: {\n        height: '140px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, row.productname), React.createElement(\"small\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, row.info)), React.createElement(\"div\", {\n      className: \"card-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \" card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, row.price), React.createElement(\"button\", {\n      className: \"btn btn-warning\",\n      style: {\n        width: '100%'\n      },\n      onClick: () => this.props.dispatch(addtocart(row)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Buy\")))))), React.createElement(NextPrev, {\n      limit: this.state.rows.length !== 9,\n      next: this.next,\n      prev: this.prev,\n      dis: this.i <= 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default connect()(ProductShow);","map":{"version":3,"sources":["/Users/DuyNguyen/workspace/ProjectFoodSell-client/src/component/User-View/ProductShow.js"],"names":["React","SearchTool","NextPrev","connect","addtocart","cartitem","type","ProductShow","Component","constructor","i","next","fetch","state","searchobj","sortitem","sortdes","parseInt","then","res","json","rows","setState","prev","setSearchText","text","sort","limititem","inputsearch","createRef","componentDidMount","render","left","position","width","top","borderBottom","minWidth","map","row","maxWidth","color","productid","image","productname","height","info","price","props","dispatch","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SearchTool from '../ReUseAble/SearchTool';\nimport NextPrev from '../ReUseAble/NextPrev';\nimport './view.css';\nimport { connect } from \"react-redux\"\n\nconst addtocart = (cartitem)=>{\n  return{\n      type: \"add\",\n      cartitem\n  }\n}\n\nclass ProductShow extends React.Component {\n\n    constructor(){\n        super();\n        this.state = {\n          rows: [],\n          sortitem: 'productid',\n          sortdes: 'ASC',\n          searchobj: '',\n          limititem: null,\n        }\n        this.inputsearch= React.createRef();\n      }\n      i = 0\n      componentDidMount() {\n        fetch('/product/?orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n        .then((res) => res.json())\n        .then(rows => this.setState({rows: rows}))\n      }\n    \n        next = ()=>{\n            this.i=this.i+9\n            fetch('/product/?search='+this.state.searchobj+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n            .then((res) => res.json())\n            .then(rows => this.setState({rows: rows})) \n        }\n        prev = () =>{\n            if(this.i>0){\n                this.i=this.i-9\n                fetch('/product/?search='+this.state.searchobj+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n                .then((res) => res.json())\n                .then(rows => this.setState({rows: rows})) \n            }  \n        }\n        setSearchText=(text)=>{\n          this.setState({searchobj: text})\n          if(text===''){\n            fetch('/product/?search='+text+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n            .then((res) => res.json())\n            .then(rows => this.setState({rows: rows}))  \n          }\n          else{\n          fetch('/product/?search='+text+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n          .then((res) => res.json())\n          .then(rows => this.setState({rows: rows}))\n          }\n        }\n        \n        sort=(sortitem, sortdes)=>{\n          this.i = 0\n          this.setState({sortitem: sortitem, sortdes: sortdes})\n          fetch('/product/?search='+this.state.searchobj+'&orderby='+sortitem+'&sort='+sortdes+'&offset='+parseInt(this.i)+'&max=9')\n          .then((res) => res.json())\n          .then(rows => this.setState({rows: rows}))  \n        }\n\n    render(){\n        return(\n            <div className='viewproduct'>\n        <SearchTool sortby='Price' sortid='price' sortname='productname' sort={this.sort} onSet={this.setSearchText}/>\n      <div className=\"cardProduct\" style={{left: \"0px\", position: \"relative\", width:\"89%\", top: \"40px\", borderBottom:\"1px solid darkorange\"}}>\n        <div className='row card-group' style={{ minWidth: '60px'}}>\n          {this.state.rows.map(row =>\n            <div id=\"card\" className='text-center col-xs-12 col-sm-6 col-md-4 col-lg-4' style={{maxWidth: \"290px\", color:'darkorange'}} key={row.productid}>\n                <img src={row.image} height='170px' className='card-img-top' alt={row.productname}/>\n                <div className='card-body' style={{height: '140px'}}>\n                  <h4 className='card-title'>{row.productname}</h4>\n                  <small className='card-text'>{row.info}</small>\n                </div>\n                <div className='card-footer'>\n                  <h5 className=' card-text'>{row.price}</h5>\n                  <button className='btn btn-warning' style={{width:'100%'}} onClick={()=>this.props.dispatch(addtocart(row))}>Buy</button>\n                </div>\n            </div>\n            )}\n        </div>  \n      </div> \n          <NextPrev   limit={this.state.rows.length  !== 9} next={this.next} prev={this.prev} dis={this.i<=0}/>\n      </div>\n        )\n    }\n}\n\nexport default connect()(ProductShow)"]},"metadata":{},"sourceType":"module"}