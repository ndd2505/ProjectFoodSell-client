{"ast":null,"code":"import _objectWithoutProperties from \"/Users/DuyNguyen/workspace/ProjectFoodSell-client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/DuyNguyen/workspace/ProjectFoodSell-client/src/component/User-View/ProductShow.js\";\nimport React from 'react';\nimport SearchTool from '../ReUseAble/SearchTool';\nimport NextPrev from '../ReUseAble/NextPrev';\nimport './view.css';\nimport { connect } from \"react-redux\";\n\nconst addtocart = cartitem => {\n  return {\n    type: \"add\",\n    cartitem\n  };\n};\n\nfunction MySnackbarContentWrapper(props) {\n  const classes = useStyles1();\n\n  const className = props.className,\n        message = props.message,\n        onClose = props.onClose,\n        variant = props.variant,\n        other = _objectWithoutProperties(props, [\"className\", \"message\", \"onClose\", \"variant\"]);\n\n  const Icon = variantIcon[variant];\n  return React.createElement(SnackbarContent, Object.assign({\n    className: clsx(classes[variant], className),\n    \"aria-describedby\": \"client-snackbar\",\n    message: React.createElement(\"span\", {\n      id: \"client-snackbar\",\n      className: classes.message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: clsx(classes.icon, classes.iconVariant),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }), message),\n    action: [React.createElement(IconButton, {\n      key: \"close\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: onClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(CloseIcon, {\n      className: classes.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }))]\n  }, other, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }));\n}\n\nclass ProductShow extends React.Component {\n  constructor() {\n    super();\n    this.i = 0;\n\n    this.next = () => {\n      this.i = this.i + 9;\n      fetch('/product/?search=' + this.state.searchobj + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n        rows: rows\n      }));\n    };\n\n    this.prev = () => {\n      if (this.i > 0) {\n        this.i = this.i - 9;\n        fetch('/product/?search=' + this.state.searchobj + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }));\n      }\n    };\n\n    this.setSearchText = text => {\n      this.setState({\n        searchobj: text\n      });\n\n      if (text === '') {\n        fetch('/product/?search=' + text + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }));\n      } else {\n        fetch('/product/?search=' + text + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }));\n      }\n    };\n\n    this.sort = (sortitem, sortdes) => {\n      this.i = 0;\n      this.setState({\n        sortitem: sortitem,\n        sortdes: sortdes\n      });\n      fetch('/product/?search=' + this.state.searchobj + '&orderby=' + sortitem + '&sort=' + sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n        rows: rows\n      }));\n    };\n\n    this.handleClose = (event, reason) => {\n      if (reason === 'clickaway') {\n        return;\n      }\n\n      this.setState({\n        open: false\n      });\n    };\n\n    this.state = {\n      rows: [],\n      sortitem: 'productid',\n      sortdes: 'ASC',\n      searchobj: '',\n      limititem: null,\n      open: false\n    };\n    this.inputsearch = React.createRef();\n  }\n\n  componentDidMount() {\n    fetch('/product/?orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n      rows: rows\n    }));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"viewproduct\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(SearchTool, {\n      sortby: \"Price\",\n      sortid: \"price\",\n      sortname: \"productname\",\n      sort: this.sort,\n      onSet: this.setSearchText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cardProduct\",\n      style: {\n        left: \"0px\",\n        position: \"relative\",\n        width: \"100%\",\n        marginTop: \"3vw\",\n        borderBottom: \"1px solid darkorange\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row card-group\",\n      style: {\n        minWidth: '60px',\n        position: \"relative\",\n        width: \"100%\",\n        margin: \"0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, this.state.rows.map(row => React.createElement(\"div\", {\n      id: \"card\",\n      className: \"text-center col-xs-12 col-sm-6 col-md-4 col-lg-4\",\n      style: {\n        position: \"relative\",\n        color: 'darkorange'\n      },\n      key: row.productid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: {\n        width: \"19.9vw\",\n        height: '13.6vw'\n      },\n      src: row.image,\n      className: \"card-img-top\",\n      alt: row.productname,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"card-body\",\n      style: {\n        padding: \"5%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        minHeight: \"5.25vw\",\n        maxHeight: \"5.25vw\",\n        fontSize: \"1.7vw\",\n        margin: \"0px\"\n      },\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, row.productname), React.createElement(\"p\", {\n      style: {\n        minHeight: \"3.5vw\",\n        maxHeight: \"3.5vw\",\n        fontSize: \"1vw\"\n      },\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, row.info)), React.createElement(\"div\", {\n      className: \"card-footer\",\n      style: {\n        padding: \"5%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, row.promotionprice !== row.price ? React.createElement(\"p\", {\n      style: {\n        fontSize: \"1.7vw\",\n        margin: \"0px\",\n        textDecoration: \"line-through\"\n      },\n      className: \" card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, row.price, \" VND\", React.createElement(\"span\", {\n      className: \"badge badge-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"-\", 100 - row.promotionprice * 100 / row.price, \"%\")) : React.createElement(\"p\", {\n      style: {\n        fontSize: \"1.7vw\",\n        margin: \"0px\"\n      },\n      className: \" card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, row.price, \" VND\"), row.promotionprice !== row.price ? React.createElement(\"p\", {\n      style: {\n        fontSize: \"1.7vw\",\n        margin: \"0px\"\n      },\n      className: \" card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, row.promotionprice, \" VND\") : React.createElement(\"p\", {\n      style: {\n        fontSize: \"1.7vw\",\n        margin: \"0px\",\n        visibility: \"hidden\"\n      },\n      className: \" card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, row.promotionprice, \" VND\"), React.createElement(\"button\", {\n      className: \"btn btn-warning\",\n      style: {\n        width: '18vw',\n        height: \"2.7vw\",\n        fontSize: \"1.1vw\"\n      },\n      onClick: () => {\n        this.setState({\n          open: true\n        });\n        return this.props.dispatch(addtocart(row));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Buy\")))))), React.createElement(Snackbar, {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left'\n      },\n      open: this.state.open,\n      autoHideDuration: 6000,\n      onClose: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(MySnackbarContentWrapper, {\n      onClose: this.handleClose,\n      variant: \"success\",\n      message: \"This is a success message!\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    })), React.createElement(NextPrev, {\n      limit: this.state.rows.length !== 9,\n      next: this.next,\n      prev: this.prev,\n      dis: this.i <= 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default connect()(ProductShow);","map":{"version":3,"sources":["/Users/DuyNguyen/workspace/ProjectFoodSell-client/src/component/User-View/ProductShow.js"],"names":["React","SearchTool","NextPrev","connect","addtocart","cartitem","type","MySnackbarContentWrapper","props","classes","useStyles1","className","message","onClose","variant","other","Icon","variantIcon","clsx","icon","iconVariant","ProductShow","Component","constructor","i","next","fetch","state","searchobj","sortitem","sortdes","parseInt","then","res","json","rows","setState","prev","setSearchText","text","sort","handleClose","event","reason","open","limititem","inputsearch","createRef","componentDidMount","render","left","position","width","marginTop","borderBottom","minWidth","margin","map","row","color","productid","height","image","productname","padding","minHeight","maxHeight","fontSize","info","promotionprice","price","textDecoration","visibility","dispatch","vertical","horizontal","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SearchTool from '../ReUseAble/SearchTool';\nimport NextPrev from '../ReUseAble/NextPrev';\nimport './view.css';\nimport { connect } from \"react-redux\"\n\nconst addtocart = (cartitem)=>{\n  return{\n      type: \"add\",\n      cartitem\n  }\n}\nfunction MySnackbarContentWrapper(props) {\n  const classes = useStyles1();\n  const { className, message, onClose, variant, ...other } = props;\n  const Icon = variantIcon[variant];\n\n  return (\n    <SnackbarContent\n      className={clsx(classes[variant], className)}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\n          <CloseIcon className={classes.icon} />\n        </IconButton>,\n      ]}\n      {...other}\n    />\n    )\n  }\n\nclass ProductShow extends React.Component {\n\n    constructor(){\n        super();\n        this.state = {\n          rows: [],\n          sortitem: 'productid',\n          sortdes: 'ASC',\n          searchobj: '',\n          limititem: null,\n          open: false\n        }\n        this.inputsearch= React.createRef();\n      }\n      i = 0\n      componentDidMount() {\n        fetch('/product/?orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n        .then((res) => res.json())\n        .then(rows => this.setState({rows: rows}))\n      }\n    \n        next = ()=>{\n            this.i=this.i+9\n            fetch('/product/?search='+this.state.searchobj+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n            .then((res) => res.json())\n            .then(rows => this.setState({rows: rows})) \n        }\n        prev = () =>{\n            if(this.i>0){\n                this.i=this.i-9\n                fetch('/product/?search='+this.state.searchobj+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n                .then((res) => res.json())\n                .then(rows => this.setState({rows: rows})) \n            }  \n        }\n        setSearchText=(text)=>{\n          this.setState({searchobj: text})\n          if(text===''){\n            fetch('/product/?search='+text+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n            .then((res) => res.json())\n            .then(rows => this.setState({rows: rows}))  \n          }\n          else{\n          fetch('/product/?search='+text+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n          .then((res) => res.json())\n          .then(rows => this.setState({rows: rows}))\n          }\n        }\n        \n        sort=(sortitem, sortdes)=>{\n          this.i = 0\n          this.setState({sortitem: sortitem, sortdes: sortdes})\n          fetch('/product/?search='+this.state.searchobj+'&orderby='+sortitem+'&sort='+sortdes+'&offset='+parseInt(this.i)+'&max=9')\n          .then((res) => res.json())\n          .then(rows => this.setState({rows: rows}))  \n        }\n\n        handleClose = (event, reason) => {\n          if (reason === 'clickaway') {\n            return;\n          }\n      \n          this.setState({open: false});\n        };\n\n    render(){\n        return(\n            <div className='viewproduct'>\n        <SearchTool sortby='Price' sortid='price' sortname='productname' sort={this.sort} onSet={this.setSearchText}/>\n      <div className=\"cardProduct\" style={{left: \"0px\", position: \"relative\", width:\"100%\", marginTop:\"3vw\", borderBottom:\"1px solid darkorange\"}}>\n        <div className='row card-group' style={{ minWidth: '60px', position:\"relative\", width:\"100%\", margin:\"0px\"}}>\n          {this.state.rows.map(row =>\n            <div id=\"card\" className='text-center col-xs-12 col-sm-6 col-md-4 col-lg-4' style={{position:\"relative\", color:'darkorange'}} key={row.productid}>\n                <img style={{width:\"19.9vw\", height:'13.6vw'}} src={row.image} className='card-img-top' alt={row.productname}/>\n                <div className='card-body' style={{padding:\"5%\"}}>\n                  <p style={{minHeight:\"5.25vw\", maxHeight:\"5.25vw\" ,fontSize:\"1.7vw\", margin:\"0px\"}} className='card-title'>{row.productname}</p>\n                  <p style={{minHeight:\"3.5vw\", maxHeight:\"3.5vw\" ,fontSize:\"1vw\"}} className='card-text'>{row.info}</p>\n                </div>\n                <div className='card-footer' style={{padding:\"5%\"}}>\n                {(row.promotionprice !== row.price) \n                  ? <p style={{fontSize:\"1.7vw\", margin:\"0px\", textDecoration:\"line-through\"}} className=' card-text'>{row.price} VND<span className=\"badge badge-danger\">-{100-row.promotionprice*100/row.price}%</span></p>\n                  : <p style={{fontSize:\"1.7vw\", margin:\"0px\"}} className=' card-text'>{row.price} VND</p>\n                }\n                {(row.promotionprice !== row.price) \n                ? <p style={{fontSize:\"1.7vw\", margin:\"0px\"}} className=' card-text'>{row.promotionprice} VND</p> \n                : <p style={{fontSize:\"1.7vw\", margin:\"0px\", visibility:\"hidden\"}} className=' card-text'>{row.promotionprice} VND</p> \n                }\n                  <button className='btn btn-warning' style={{width:'18vw', height:\"2.7vw\", fontSize:\"1.1vw\"}} onClick={()=>{this.setState({open: true}); return this.props.dispatch(addtocart(row))}}>Buy</button>\n                </div>\n            </div>\n            )}\n        </div>  \n      </div> \n          <Snackbar\n            anchorOrigin={{\n              vertical: 'bottom',\n              horizontal: 'left',\n            }}\n            open={this.state.open}\n            autoHideDuration={6000}\n            onClose={this.handleClose}\n          >\n            <MySnackbarContentWrapper\n              onClose={this.handleClose}\n              variant=\"success\"\n              message=\"This is a success message!\"\n            />\n          </Snackbar>\n          <NextPrev limit={this.state.rows.length  !== 9} next={this.next} prev={this.prev} dis={this.i<=0}/>\n      </div>\n        )\n    }\n}\n\nexport default connect()(ProductShow)"]},"metadata":{},"sourceType":"module"}