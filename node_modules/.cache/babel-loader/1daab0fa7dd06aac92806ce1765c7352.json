{"ast":null,"code":"var _jsxFileName = \"/Users/DuyNguyen/workspace/ProjectFoodSell-client/src/component/Modify Data/Update-Product.js\";\nimport React from 'react';\nimport './Adding.css';\nimport { Link } from 'react-router-dom';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nclass UpdateProduct extends React.Component {\n  constructor(props) {\n    super(props);\n    this.updateid = this.props.match.params.id;\n\n    this.handleInput = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.validClient = func => {\n      let productnameError = \"\";\n      let imageError = \"\";\n      let priceError = \"\";\n      let infoError = \"\";\n      let typeError = \"\";\n\n      if (this.state.productname === \"\") {\n        productnameError = \"Vui lòng nhập tên sản phẩm\";\n      }\n\n      if (this.state.image === \"\") {\n        imageError = \"Vui lòng nhập đường dẫn \";\n      }\n\n      if (this.state.price === \"\") {\n        priceError = \"Vui lòng nhập mức giá\";\n      } else {\n        if (isNaN(this.state.price)) {\n          priceError = \"Mức giá không hợp lệ. Vui lòng nhập số\";\n        }\n      }\n\n      if (this.state.info === \"\") {\n        infoError = \"Vui lòng nhập thông tin miêu tả\";\n      }\n\n      if (this.state.type === \"\") {\n        typeError = \"Vui lòng chọn loại sản phẩm\";\n      }\n\n      if (productnameError || imageError || priceError || infoError || typeError) {\n        this.setState({\n          productnameError,\n          imageError,\n          priceError,\n          infoError,\n          typeError\n        });\n        return false;\n      } else {\n        return func();\n      }\n    };\n\n    this.handleSubmit = () => {\n      fetch('/updating-product/' + this.updateid, {\n        method: \"post\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"productname\": this.state.productname,\n          \"image\": this.state.image,\n          \"price\": this.state.price,\n          \"info\": this.state.info,\n          \"type\": this.state.type,\n          \"promotionprice\": this.state.price - this.state.price / 100 * this.state.promotionprice\n        })\n      }).then(res => {\n        if (res.status === 200) {\n          window.location.replace(\"http://localhost:3000/admin/product\");\n        }\n      });\n    };\n\n    this.state = {\n      productname: \"\",\n      initialProductname: \"\",\n      image: \"\",\n      price: \"\",\n      info: \"\",\n      type: \"\",\n      promotionprice: \"\",\n      productnameError: \"\",\n      imageError: \"\",\n      priceError: \"\",\n      infoError: \"\",\n      typeError: \"\"\n    };\n  }\n\n  componentDidMount() {\n    fetch('/update-product/' + this.updateid).then(res => res.json()).then(row => this.setState({\n      productname: row[0].productname,\n      image: row[0].image,\n      price: row[0].price,\n      info: row[0].info,\n      type: row[0].type,\n      promotionprice: 100 - row[0].promotionprice / row[0].price * 100\n    }));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Adding Product\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"ProductName\"), React.createElement(\"input\", {\n      name: \"productname\",\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Product Name...\",\n      value: this.state.productname,\n      onChange: e => this.handleInput(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\",\n        color: \"red\",\n        fontSize: \"1.2vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, this.state.productnameError ? React.createElement(ErrorIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }) : null, this.state.productnameError)), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"ProductImage\"), React.createElement(\"input\", {\n      name: \"image\",\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Image URL...\",\n      value: this.state.image,\n      onChange: e => this.handleInput(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\",\n        color: \"red\",\n        fontSize: \"1.2vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, this.state.imageError ? React.createElement(ErrorIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }) : null, this.state.imageError)), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-4 col-4 col-md-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"ProductPrice\"), React.createElement(\"input\", {\n      name: \"price\",\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Price...\",\n      value: this.state.price,\n      onChange: e => this.handleInput(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\",\n        color: \"red\",\n        fontSize: \"1.2vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, this.state.priceError ? React.createElement(ErrorIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }) : null, this.state.priceError)), React.createElement(\"div\", {\n      className: \"col-xs-4 col-4 col-md-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Promotion\"), React.createElement(\"div\", {\n      class: \"input-group mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      style: this.state.promotionprice == 0 ? {\n        backgroundColor: \"white\"\n      } : {\n        backgroundColor: \"yellow\"\n      },\n      name: \"promotionprice\",\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Promotion...\",\n      value: this.state.promotionprice,\n      onChange: e => this.handleInput(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"input-group-append\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"input-group-text\",\n      id: \"basic-addon2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"%\")))), React.createElement(\"div\", {\n      className: \"col-xs-4 col-4 col-md-4 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"ProductType\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      name: \"type\",\n      className: \"form-control\",\n      value: this.state.type,\n      onChange: e => this.handleInput(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"C\\u01A1m\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"M\\xEC\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"B\\xFAn\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"H\\u1EA3i S\\u1EA3n\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Tr\\xE1ng Mi\\u1EC7ng\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"M\\xF3n Th\\xEAm\")), React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\",\n        color: \"red\",\n        fontSize: \"1.2vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, this.state.typeError ? React.createElement(ErrorIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }) : null, this.state.typeError)))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"ProductInfo\"), React.createElement(\"textarea\", {\n      name: \"info\",\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Info...\",\n      value: this.state.info,\n      onChange: e => this.handleInput(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\",\n        color: \"red\",\n        fontSize: \"1.2vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, this.state.infoError ? React.createElement(ErrorIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }) : null, this.state.infoError)), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/admin/menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Cancel\")), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.validClient(this.handleSubmit),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Add\")));\n  }\n\n}\n\nexport default UpdateProduct;","map":{"version":3,"sources":["/Users/DuyNguyen/workspace/ProjectFoodSell-client/src/component/Modify Data/Update-Product.js"],"names":["React","Link","ErrorIcon","UpdateProduct","Component","constructor","props","updateid","match","params","id","handleInput","e","setState","target","name","value","validClient","func","productnameError","imageError","priceError","infoError","typeError","state","productname","image","price","isNaN","info","type","handleSubmit","fetch","method","headers","body","JSON","stringify","promotionprice","then","res","status","window","location","replace","initialProductname","componentDidMount","json","row","render","textAlign","color","fontSize","backgroundColor"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Adding.css';\nimport {Link} from 'react-router-dom';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nclass UpdateProduct extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            productname: \"\",\n            initialProductname: \"\",\n            image: \"\",\n            price: \"\",\n            info: \"\",\n            type: \"\",\n            promotionprice : \"\",\n            productnameError: \"\",\n            imageError: \"\",\n            priceError: \"\",\n            infoError: \"\",\n            typeError: \"\",\n        }\n    }\n\n    updateid = this.props.match.params.id\n\n    componentDidMount(){\n        fetch('/update-product/'+this.updateid)\n        .then((res) => res.json())\n        .then((row) => this.setState({productname: row[0].productname, image: row[0].image, price: row[0].price, info: row[0].info, type: row[0].type, promotionprice: 100-row[0].promotionprice/row[0].price*100}))\n    }\n\n    handleInput = (e) =>{\n        this.setState({[e.target.name] : e.target.value})\n    }\n\n    validClient = (func) =>{\n        let productnameError = \"\"\n        let imageError = \"\"\n        let priceError = \"\"\n        let infoError = \"\"\n        let typeError = \"\"\n\n        if(this.state.productname === \"\"){\n            productnameError = \"Vui lòng nhập tên sản phẩm\"\n        }\n        if(this.state.image === \"\"){\n            imageError = \"Vui lòng nhập đường dẫn \"\n        }\n        if(this.state.price === \"\"){\n            priceError = \"Vui lòng nhập mức giá\"\n        }else{\n            if(isNaN(this.state.price)){\n                priceError = \"Mức giá không hợp lệ. Vui lòng nhập số\"\n            }\n        }\n        if(this.state.info === \"\"){\n            infoError = \"Vui lòng nhập thông tin miêu tả\"\n        }\n        if(this.state.type === \"\"){\n            typeError = \"Vui lòng chọn loại sản phẩm\"\n        }\n\n        if( productnameError || imageError || priceError || infoError || typeError){\n            this.setState({productnameError, imageError, priceError, infoError , typeError})\n            return false\n        }else{\n            return func()\n        }\n        \n    }\n\n    handleSubmit=()=>{\n        fetch('/updating-product/'+this.updateid,{\n            method:\"post\",\n            headers: {'Content-Type':'application/json'},\n            body: JSON.stringify({\n                \"productname\":this.state.productname,\n                \"image\": this.state.image,\n                \"price\": this.state.price,\n                \"info\": this.state.info,\n                \"type\": this.state.type,\n                \"promotionprice\": this.state.price-this.state.price/100*this.state.promotionprice\n            })\n        })\n        .then((res) => {if(res.status === 200){window.location.replace(\"http://localhost:3000/admin/product\")}})\n    }\n\n    render(){\n        return(\n            <div style={{textAlign:\"center\"}} >\n                <h1>Adding Product</h1>\n                <div className='form-group'>\n                    <label>ProductName</label>\n                    <input name='productname' className=\"form-control\" type='text' placeholder='Product Name...' value={this.state.productname} onChange={(e)=>this.handleInput(e)}></input>\n                    <div style={{textAlign:\"left\", color:\"red\", fontSize:\"1.2vw\"}}>\n                          {(this.state.productnameError) ? <ErrorIcon /> : null}\n                          {this.state.productnameError}\n                    </div>\n                </div>\n                <div className='form-group'>\n                    <label>ProductImage</label>\n                    <input name='image' className=\"form-control\" type='text'  placeholder='Image URL...' value={this.state.image} onChange={(e)=>this.handleInput(e)}></input>\n                    <div style={{textAlign:\"left\", color:\"red\", fontSize:\"1.2vw\"}}>\n                          {(this.state.imageError) ? <ErrorIcon /> : null}\n                          {this.state.imageError}\n                    </div>\n                </div>\n                <div className='form-group'>\n                    <div className=\"row\">\n                        <div className=\"col-xs-4 col-4 col-md-4 col-lg-4\">\n                            <label>ProductPrice</label>\n                            <input name='price' className=\"form-control\" type='text' placeholder='Price...' value={this.state.price} onChange={(e)=>this.handleInput(e)}></input>\n                            <div style={{textAlign:\"left\", color:\"red\", fontSize:\"1.2vw\"}}>\n                                {(this.state.priceError) ? <ErrorIcon /> : null}\n                                {this.state.priceError}\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 col-4 col-md-4 col-lg-4\">\n                            <label>Promotion</label>\n                            <div class=\"input-group mb-3\">\n                            <input style={(this.state.promotionprice == 0) ? {backgroundColor:\"white\"} : {backgroundColor:\"yellow\"}} name=\"promotionprice\" className=\"form-control\" type=\"text\" placeholder=\"Promotion...\" value={this.state.promotionprice} onChange={(e)=>this.handleInput(e)}></input>\n                            <div class=\"input-group-append\">\n                                <span class=\"input-group-text\" id=\"basic-addon2\">%</span>\n                            </div>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 col-4 col-md-4 col-lg-4\">\n                            <label>ProductType</label>\n                            <br/>\n                            <select name=\"type\" className=\"form-control\" value={this.state.type} onChange={(e)=>this.handleInput(e)} >\n                                <option></option>\n                                <option>Cơm</option>\n                                <option>Mì</option>\n                                <option>Bún</option>\n                                <option>Hải Sản</option>\n                                <option>Tráng Miệng</option>\n                                <option>Món Thêm</option>\n                            </select>\n                            <div style={{textAlign:\"left\", color:\"red\", fontSize:\"1.2vw\"}}>\n                                {(this.state.typeError) ? <ErrorIcon /> : null}\n                                {this.state.typeError}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className='form-group'>\n                    <label>ProductInfo</label>\n                    <textarea name='info' className=\"form-control\" type='text' placeholder='Info...' value={this.state.info} onChange={(e)=>this.handleInput(e)}></textarea>\n                    <div style={{textAlign:\"left\", color:\"red\", fontSize:\"1.2vw\"}}>\n                          {(this.state.infoError) ? <ErrorIcon /> : null}\n                          {this.state.infoError}\n                    </div>\n                </div>\n                \n                <div className='form-group'>\n                    <Link to='/admin/menu'><button className='btn btn-danger' >Cancel</button></Link>\n                    <button className='btn btn-primary' onClick={()=>this.validClient(this.handleSubmit)}>Add</button>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default UpdateProduct"]},"metadata":{},"sourceType":"module"}