{"ast":null,"code":"import _objectWithoutProperties from \"/Users/DuyNguyen/workspace/ProjectFoodSell-client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/DuyNguyen/workspace/ProjectFoodSell-client/src/component/User-View/ProductShow.js\";\nimport React from 'react';\nimport SearchTool from '../ReUseAble/SearchTool';\nimport NextPrev from '../ReUseAble/NextPrev';\nimport './view.css';\nimport { connect } from \"react-redux\";\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Button from '@material-ui/core/Button';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { amber, green } from '@material-ui/core/colors';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { makeStyles } from '@material-ui/core/styles';\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon\n};\n\nconst addtocart = cartitem => {\n  return {\n    type: \"add\",\n    cartitem\n  };\n};\n\nconst useStyles1 = makeStyles(theme => ({\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: theme.palette.primary.main\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  }\n}));\n\nfunction MySnackbarContentWrapper(props) {\n  const classes = useStyles1();\n\n  const className = props.className,\n        message = props.message,\n        onClose = props.onClose,\n        variant = props.variant,\n        other = _objectWithoutProperties(props, [\"className\", \"message\", \"onClose\", \"variant\"]);\n\n  const Icon = variantIcon[variant];\n  return React.createElement(SnackbarContent, Object.assign({\n    className: clsx(classes[variant], className),\n    \"aria-describedby\": \"client-snackbar\",\n    message: React.createElement(\"span\", {\n      id: \"client-snackbar\",\n      className: classes.message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: clsx(classes.icon, classes.iconVariant),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), message),\n    action: [React.createElement(IconButton, {\n      key: \"close\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: onClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(CloseIcon, {\n      className: classes.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }))]\n  }, other, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }));\n}\n\nclass ProductShow extends React.Component {\n  constructor() {\n    super();\n    this.i = 0;\n\n    this.next = () => {\n      this.i = this.i + 9;\n      fetch('/product/?search=' + this.state.searchobj + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n        rows: rows\n      }));\n    };\n\n    this.prev = () => {\n      if (this.i > 0) {\n        this.i = this.i - 9;\n        fetch('/product/?search=' + this.state.searchobj + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }));\n      }\n    };\n\n    this.setSearchText = text => {\n      this.setState({\n        searchobj: text\n      });\n\n      if (text === '') {\n        fetch('/product/?search=' + text + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }));\n      } else {\n        fetch('/product/?search=' + text + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }));\n      }\n    };\n\n    this.sort = (sortitem, sortdes) => {\n      this.i = 0;\n      this.setState({\n        sortitem: sortitem,\n        sortdes: sortdes\n      });\n      fetch('/product/?search=' + this.state.searchobj + '&orderby=' + sortitem + '&sort=' + sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n        rows: rows\n      }));\n    };\n\n    this.handleClose = (event, reason) => {\n      if (reason === 'clickaway') {\n        return;\n      }\n\n      this.setState({\n        open: false\n      });\n    };\n\n    this.state = {\n      rows: [],\n      sortitem: 'productid',\n      sortdes: 'ASC',\n      searchobj: '',\n      limititem: null,\n      open: false\n    };\n    this.inputsearch = React.createRef();\n  }\n\n  componentDidMount() {\n    fetch('/product/?orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=9').then(res => res.json()).then(rows => this.setState({\n      rows: rows\n    }));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"viewproduct\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(SearchTool, {\n      sortby: \"Price\",\n      sortid: \"price\",\n      sortname: \"productname\",\n      sort: this.sort,\n      onSet: this.setSearchText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cardProduct\",\n      style: {\n        left: \"0px\",\n        position: \"relative\",\n        width: \"100%\",\n        marginTop: \"3vw\",\n        borderBottom: \"1px solid darkorange\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row card-group\",\n      style: {\n        minWidth: '60px',\n        position: \"relative\",\n        width: \"100%\",\n        margin: \"0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, this.state.rows.map(row => React.createElement(\"div\", {\n      id: \"card\",\n      className: \"text-center col-xs-12 col-sm-6 col-md-4 col-lg-4\",\n      style: {\n        position: \"relative\",\n        color: 'darkorange'\n      },\n      key: row.productid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: {\n        width: \"19.9vw\",\n        height: '13.6vw'\n      },\n      src: row.image,\n      className: \"card-img-top\",\n      alt: row.productname,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"card-body\",\n      style: {\n        padding: \"5%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        minHeight: \"5.25vw\",\n        maxHeight: \"5.25vw\",\n        fontSize: \"1.7vw\",\n        margin: \"0px\"\n      },\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, row.productname), React.createElement(\"p\", {\n      style: {\n        minHeight: \"3.5vw\",\n        maxHeight: \"3.5vw\",\n        fontSize: \"1vw\"\n      },\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, row.info)), React.createElement(\"div\", {\n      className: \"card-footer\",\n      style: {\n        padding: \"5%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, row.promotionprice !== row.price ? React.createElement(\"p\", {\n      style: {\n        fontSize: \"1.7vw\",\n        margin: \"0px\",\n        textDecoration: \"line-through\"\n      },\n      className: \" card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, row.price, \" VND\", React.createElement(\"span\", {\n      className: \"badge badge-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"-\", 100 - row.promotionprice * 100 / row.price, \"%\")) : React.createElement(\"p\", {\n      style: {\n        fontSize: \"1.7vw\",\n        margin: \"0px\"\n      },\n      className: \" card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, row.price, \" VND\"), row.promotionprice !== row.price ? React.createElement(\"p\", {\n      style: {\n        fontSize: \"1.7vw\",\n        margin: \"0px\"\n      },\n      className: \" card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, row.promotionprice, \" VND\") : React.createElement(\"p\", {\n      style: {\n        fontSize: \"1.7vw\",\n        margin: \"0px\",\n        visibility: \"hidden\"\n      },\n      className: \" card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, row.promotionprice, \" VND\"), React.createElement(\"button\", {\n      className: \"btn btn-warning\",\n      style: {\n        width: '18vw',\n        height: \"2.7vw\",\n        fontSize: \"1.1vw\"\n      },\n      onClick: () => {\n        this.setState({\n          open: true\n        });\n        return this.props.dispatch(addtocart(row));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Buy\")))))), React.createElement(Snackbar, {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left'\n      },\n      open: this.state.open,\n      autoHideDuration: 6000,\n      onClose: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(MySnackbarContentWrapper, {\n      style: {\n        background: \"green\",\n        padding: \"1vw\"\n      },\n      onClose: this.handleClose,\n      variant: \"success\",\n      message: \"This is a success message!\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    })), React.createElement(NextPrev, {\n      limit: this.state.rows.length !== 9,\n      next: this.next,\n      prev: this.prev,\n      dis: this.i <= 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default connect()(ProductShow);","map":{"version":3,"sources":["/Users/DuyNguyen/workspace/ProjectFoodSell-client/src/component/User-View/ProductShow.js"],"names":["React","SearchTool","NextPrev","connect","PropTypes","clsx","Button","CheckCircleIcon","ErrorIcon","InfoIcon","CloseIcon","amber","green","IconButton","Snackbar","SnackbarContent","WarningIcon","makeStyles","variantIcon","success","warning","error","info","addtocart","cartitem","type","useStyles1","theme","backgroundColor","palette","dark","primary","main","icon","fontSize","iconVariant","opacity","marginRight","spacing","message","display","alignItems","MySnackbarContentWrapper","props","classes","className","onClose","variant","other","Icon","ProductShow","Component","constructor","i","next","fetch","state","searchobj","sortitem","sortdes","parseInt","then","res","json","rows","setState","prev","setSearchText","text","sort","handleClose","event","reason","open","limititem","inputsearch","createRef","componentDidMount","render","left","position","width","marginTop","borderBottom","minWidth","margin","map","row","color","productid","height","image","productname","padding","minHeight","maxHeight","promotionprice","price","textDecoration","visibility","dispatch","vertical","horizontal","background","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SearchTool from '../ReUseAble/SearchTool';\nimport NextPrev from '../ReUseAble/NextPrev';\nimport './view.css';\nimport { connect } from \"react-redux\"\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Button from '@material-ui/core/Button';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { amber, green } from '@material-ui/core/colors';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon,\n};\n\nconst addtocart = (cartitem)=>{\n  return{\n      type: \"add\",\n      cartitem\n  }\n}\nconst useStyles1 = makeStyles(theme => ({\n  success: {\n    backgroundColor: green[600],\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark,\n  },\n  info: {\n    backgroundColor: theme.palette.primary.main,\n  },\n  warning: {\n    backgroundColor: amber[700],\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1),\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n}));\nfunction MySnackbarContentWrapper(props) {\n  const classes = useStyles1();\n  const { className, message, onClose, variant, ...other } = props;\n  const Icon = variantIcon[variant];\n\n  return (\n    <SnackbarContent\n      className={clsx(classes[variant], className)}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\n          <CloseIcon className={classes.icon} />\n        </IconButton>,\n      ]}\n      {...other}\n    />\n    )\n  }\n\nclass ProductShow extends React.Component {\n\n    constructor(){\n        super();\n        this.state = {\n          rows: [],\n          sortitem: 'productid',\n          sortdes: 'ASC',\n          searchobj: '',\n          limititem: null,\n          open: false\n        }\n        this.inputsearch= React.createRef();\n      }\n      i = 0\n      componentDidMount() {\n        fetch('/product/?orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n        .then((res) => res.json())\n        .then(rows => this.setState({rows: rows}))\n      }\n    \n        next = ()=>{\n            this.i=this.i+9\n            fetch('/product/?search='+this.state.searchobj+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n            .then((res) => res.json())\n            .then(rows => this.setState({rows: rows})) \n        }\n        prev = () =>{\n            if(this.i>0){\n                this.i=this.i-9\n                fetch('/product/?search='+this.state.searchobj+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n                .then((res) => res.json())\n                .then(rows => this.setState({rows: rows})) \n            }  \n        }\n        setSearchText=(text)=>{\n          this.setState({searchobj: text})\n          if(text===''){\n            fetch('/product/?search='+text+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n            .then((res) => res.json())\n            .then(rows => this.setState({rows: rows}))  \n          }\n          else{\n          fetch('/product/?search='+text+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=9')\n          .then((res) => res.json())\n          .then(rows => this.setState({rows: rows}))\n          }\n        }\n        \n        sort=(sortitem, sortdes)=>{\n          this.i = 0\n          this.setState({sortitem: sortitem, sortdes: sortdes})\n          fetch('/product/?search='+this.state.searchobj+'&orderby='+sortitem+'&sort='+sortdes+'&offset='+parseInt(this.i)+'&max=9')\n          .then((res) => res.json())\n          .then(rows => this.setState({rows: rows}))  \n        }\n\n        handleClose = (event, reason) => {\n          if (reason === 'clickaway') {\n            return;\n          }\n      \n          this.setState({open: false});\n        };\n\n    render(){\n        return(\n            <div className='viewproduct'>\n        <SearchTool sortby='Price' sortid='price' sortname='productname' sort={this.sort} onSet={this.setSearchText}/>\n      <div className=\"cardProduct\" style={{left: \"0px\", position: \"relative\", width:\"100%\", marginTop:\"3vw\", borderBottom:\"1px solid darkorange\"}}>\n        <div className='row card-group' style={{ minWidth: '60px', position:\"relative\", width:\"100%\", margin:\"0px\"}}>\n          {this.state.rows.map(row =>\n            <div id=\"card\" className='text-center col-xs-12 col-sm-6 col-md-4 col-lg-4' style={{position:\"relative\", color:'darkorange'}} key={row.productid}>\n                <img style={{width:\"19.9vw\", height:'13.6vw'}} src={row.image} className='card-img-top' alt={row.productname}/>\n                <div className='card-body' style={{padding:\"5%\"}}>\n                  <p style={{minHeight:\"5.25vw\", maxHeight:\"5.25vw\" ,fontSize:\"1.7vw\", margin:\"0px\"}} className='card-title'>{row.productname}</p>\n                  <p style={{minHeight:\"3.5vw\", maxHeight:\"3.5vw\" ,fontSize:\"1vw\"}} className='card-text'>{row.info}</p>\n                </div>\n                <div className='card-footer' style={{padding:\"5%\"}}>\n                {(row.promotionprice !== row.price) \n                  ? <p style={{fontSize:\"1.7vw\", margin:\"0px\", textDecoration:\"line-through\"}} className=' card-text'>{row.price} VND<span className=\"badge badge-danger\">-{100-row.promotionprice*100/row.price}%</span></p>\n                  : <p style={{fontSize:\"1.7vw\", margin:\"0px\"}} className=' card-text'>{row.price} VND</p>\n                }\n                {(row.promotionprice !== row.price) \n                ? <p style={{fontSize:\"1.7vw\", margin:\"0px\"}} className=' card-text'>{row.promotionprice} VND</p> \n                : <p style={{fontSize:\"1.7vw\", margin:\"0px\", visibility:\"hidden\"}} className=' card-text'>{row.promotionprice} VND</p> \n                }\n                  <button className='btn btn-warning' style={{width:'18vw', height:\"2.7vw\", fontSize:\"1.1vw\"}} onClick={()=>{this.setState({open: true}); return this.props.dispatch(addtocart(row))}}>Buy</button>\n                </div>\n            </div>\n            )}\n        </div>  \n      </div> \n          <Snackbar\n            \n            anchorOrigin={{\n              vertical: 'bottom',\n              horizontal: 'left',\n            }}\n            open={this.state.open}\n            autoHideDuration={6000}\n            onClose={this.handleClose}\n          >\n            <MySnackbarContentWrapper\n            style={{background:\"green\", padding:\"1vw\"}}\n              onClose={this.handleClose}\n              variant=\"success\"\n              message=\"This is a success message!\"\n            />\n          </Snackbar>\n          <NextPrev limit={this.state.rows.length  !== 9} next={this.next} prev={this.prev} dis={this.i<=0}/>\n      </div>\n        )\n    }\n}\n\nexport default connect()(ProductShow)"]},"metadata":{},"sourceType":"module"}