{"ast":null,"code":"var _jsxFileName = \"/Users/DuyNguyen/workspace/ProjectFoodSell-client/src/component/Admin-View/Customer-Manager.js\";\nimport React from 'react';\nimport './Manage-User.css';\nimport SearchTool from '../ReUseAble/SearchTool';\nimport NextPrev from '../ReUseAble/NextPrev';\n\nclass CustomerManager extends React.Component {\n  constructor() {\n    super();\n    this.i = 0;\n\n    this.next = () => {\n      this.i = this.i + 6;\n      fetch('/customer/?search=' + this.state.searchobj + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=6').then(res => res.json()).then(rows => this.setState({\n        rows: rows\n      }, () => console.log('Customers fetched...', rows)));\n    };\n\n    this.prev = () => {\n      if (this.i > 0) {\n        this.i = this.i - 6;\n        fetch('/customer/?search=' + this.state.searchobj + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=6').then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }, () => console.log('Customers fetched...', rows)));\n      }\n    };\n\n    this.setSearchText = text => {\n      this.setState({\n        searchobj: text\n      });\n\n      if (text === '') {\n        fetch('/customer/?search=' + text + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=6').then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }, () => console.log('Customers fetched...', rows)));\n      } else {\n        fetch('/customer/?search=' + text + '&orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=6').then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }, () => console.log('Customers fetched...', rows)));\n      }\n    };\n\n    this.sort = (sortitem, sortdes) => {\n      this.i = 0;\n      this.setState({\n        sortitem: sortitem,\n        sortdes: sortdes\n      });\n      fetch('/customer/?search=' + this.state.searchobj + '&orderby=' + sortitem + '&sort=' + sortdes + '&offset=' + parseInt(this.i) + '&max=6').then(res => res.json()).then(rows => this.setState({\n        rows: rows\n      }, () => console.log('Customers fetched...', rows)));\n    };\n\n    this.delete = row => {\n      const delid = row.cusid;\n\n      if (window.confirm('Do you really want to delete this')) {\n        console.log('success delete: ' + delid);\n        fetch('/delete-customer?id=' + delid).then(res => res.json()).then(rows => this.setState({\n          rows: rows\n        }, () => console.log('Customers fetched...', rows)));\n        this.i = 0;\n      }\n    };\n\n    this.state = {\n      rows: [],\n      sortitem: 'cusid',\n      sortdes: 'ASC',\n      searchobj: ''\n    };\n    this.inputsearch = React.createRef();\n  }\n\n  componentDidMount() {\n    fetch('/customer/?orderby=' + this.state.sortitem + '&sort=' + this.state.sortdes + '&offset=' + parseInt(this.i) + '&max=6').then(res => res.json()).then(rows => this.setState({\n      rows: rows\n    }, () => console.log('Customers fetched...', rows)));\n  }\n\n  // searching=()=>{\n  //   fetch('/search/:'+this.state.searchtext)\n  //   .then((res) => res.json())\n  //   .then(rows => this.setState({rows: rows}, () => console.log('Customers fetched...', rows)))\n  // }\n  render() {\n    return React.createElement(\"div\", {\n      className: \"listTable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(SearchTool, {\n      sortby: \"ID\",\n      sortid: \"cusid\",\n      sortname: \"username\",\n      sort: this.sort,\n      onSet: this.setSearchText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      className: \"table\",\n      border: \"1\",\n      style: {\n        backgroundColor: 'white',\n        width: '80%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"thead-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Cus-Id\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"FullName\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Gender\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Address\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"UserName\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.rows.map(row => React.createElement(\"tr\", {\n      key: row.cusid,\n      border: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, row.cusid), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, row.name), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, row.gender), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, row.phone), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, row.address), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, row.email), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, row.username), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, row.password), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => {\n        this.delete(row);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Delete\")))))), React.createElement(NextPrev, {\n      next: this.next,\n      prev: this.prev,\n      dis: this.i <= 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default CustomerManager;","map":{"version":3,"sources":["/Users/DuyNguyen/workspace/ProjectFoodSell-client/src/component/Admin-View/Customer-Manager.js"],"names":["React","SearchTool","NextPrev","CustomerManager","Component","constructor","i","next","fetch","state","searchobj","sortitem","sortdes","parseInt","then","res","json","rows","setState","console","log","prev","setSearchText","text","sort","delete","row","delid","cusid","window","confirm","inputsearch","createRef","componentDidMount","render","backgroundColor","width","map","name","gender","phone","address","email","username","password"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Manage-User.css';\n\nimport SearchTool from '../ReUseAble/SearchTool';\nimport NextPrev from '../ReUseAble/NextPrev';\n\nclass CustomerManager extends React.Component {\n\n  constructor(){\n    super();\n    this.state = {\n      rows: [],\n      sortitem: 'cusid',\n      sortdes: 'ASC',\n      searchobj: ''\n    }\n    this.inputsearch= React.createRef();\n  }\n  i = 0\n  componentDidMount() {\n    fetch('/customer/?orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=6')\n    .then((res) => res.json())\n    .then(rows => this.setState({rows: rows}, () => console.log('Customers fetched...', rows)))\n  }\n\n    next = ()=>{\n        this.i=this.i+6\n        fetch('/customer/?search='+this.state.searchobj+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=6')\n        .then((res) => res.json())\n        .then(rows => this.setState({rows: rows}, () => console.log('Customers fetched...', rows))) \n    }\n    prev = () =>{\n        if(this.i>0){\n            this.i=this.i-6\n            fetch('/customer/?search='+this.state.searchobj+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=6')\n            .then((res) => res.json())\n            .then(rows => this.setState({rows: rows}, () => console.log('Customers fetched...', rows))) \n        }  \n    }\n    setSearchText=(text)=>{\n      this.setState({searchobj: text})\n      if(text===''){\n        fetch('/customer/?search='+text+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=6')\n        .then((res) => res.json())\n        .then(rows => this.setState({rows: rows}, () => console.log('Customers fetched...', rows)))  \n      }\n      else{\n      fetch('/customer/?search='+text+'&orderby='+this.state.sortitem+'&sort='+this.state.sortdes+'&offset='+parseInt(this.i)+'&max=6')\n      .then((res) => res.json())\n      .then(rows => this.setState({rows: rows}, () => console.log('Customers fetched...', rows)))\n      }\n    }\n    \n    sort=(sortitem, sortdes)=>{\n      this.i = 0\n      this.setState({sortitem: sortitem, sortdes: sortdes})\n      fetch('/customer/?search='+this.state.searchobj+'&orderby='+sortitem+'&sort='+sortdes+'&offset='+parseInt(this.i)+'&max=6')\n      .then((res) => res.json())\n      .then(rows => this.setState({rows: rows}, () => console.log('Customers fetched...', rows)))  \n    }\n    delete=(row)=>{\n        const delid = row.cusid\n        if(window.confirm('Do you really want to delete this')){\n          console.log('success delete: '+ delid)\n          fetch('/delete-customer?id='+delid)\n          .then((res) => res.json())\n          .then(rows => this.setState({rows: rows}, () => console.log('Customers fetched...', rows)))  \n          this.i = 0\n        }\n    }\n    \n    // searching=()=>{\n    //   fetch('/search/:'+this.state.searchtext)\n    //   .then((res) => res.json())\n    //   .then(rows => this.setState({rows: rows}, () => console.log('Customers fetched...', rows)))\n    // }\n  render(){\n      return (\n      <div className=\"listTable\">\n        <SearchTool sortby='ID' sortid='cusid' sortname='username' sort={this.sort} onSet={this.setSearchText}/>\n        <table className='table' border='1' style={{backgroundColor: 'white', width: '80%'}} >\n        <thead className='thead-dark' >\n            <tr>\n                <th>Cus-Id</th>\n                <th>FullName</th>\n                <th>Gender</th>\n                <th>Phone</th>\n                <th>Address</th>\n                <th>Email</th>\n                <th>UserName</th>\n                <th>Password</th>\n                <th>Action</th>\n            </tr>\n        </thead>\n        <tbody>\n          {this.state.rows.map(row =>\n            <tr key={row.cusid} border='1'>\n              <th>{row.cusid}</th>\n              <th>{row.name}</th>\n              <th>{row.gender}</th>\n              <th>{row.phone}</th>\n              <th>{row.address}</th>\n              <th>{row.email}</th>\n              <th>{row.username}</th>\n              <th>{row.password}</th>\n              <th><button className='btn btn-danger' onClick={()=>{this.delete(row)}}>Delete</button></th> \n            </tr>\n            )}\n        </tbody>   \n      </table>\n      <NextPrev next={this.next} prev={this.prev} dis={this.i<=0}/>\n      </div>\n  );\n  }\n}\n\nexport default CustomerManager;\n"]},"metadata":{},"sourceType":"module"}